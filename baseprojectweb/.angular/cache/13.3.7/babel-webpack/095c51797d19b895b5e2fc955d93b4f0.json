{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\joshua\\\\projetos\\\\microservices\\\\baseprojectpackage\\\\baseprojectweb\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport swal from 'sweetalert2';\nimport { Subscriber } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/base-resource.service\";\nexport class BaseResourceListComponent {\n  constructor(resourceService) {\n    this.resourceService = resourceService;\n    this.resources = [];\n    this.size = 2;\n    this.wordSearch = '';\n    this.page = {};\n    this.pageNumber = 0;\n    this.totalElementos = 0;\n    this.subscribeGeneral = new Subscriber();\n  }\n\n  ngOnInit() {\n    this.subscribeGeneral.add(this.resourceService.getAllPage(this.pageNumber, this.size, this.wordSearch).subscribe(response => {\n      this.page = response;\n      this.resources = this.page.content;\n      this.totalElementos = this.page.totalElements;\n    }, error => alert('Erro ao carregar a lista')));\n  }\n\n  ngOnDestroy() {\n    this.subscribeGeneral.unsubscribe();\n  }\n\n  paginate(event) {\n    //console.log(event);\n    this.subscribeGeneral.add(this.resourceService.getAllPage(event.page, event.rows, this.wordSearch).subscribe(response => {\n      this.page = response;\n      this.resources = this.page.content;\n      this.totalElementos = this.page.totalElements;\n    }));\n  }\n\n  search() {\n    this.subscribeGeneral.add(this.resourceService.getAllPage(this.pageNumber, this.size, this.wordSearch).subscribe(response => {\n      this.page = response;\n      this.resources = this.page.content;\n      this.totalElementos = this.page.totalElements;\n    }));\n  }\n\n  deleteResource(resource) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const confirmacao = yield swal.fire({\n        title: 'Delete',\n        text: 'Do you want really delete the item?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel'\n      });\n\n      if (confirmacao === null || confirmacao === void 0 ? void 0 : confirmacao.isConfirmed) {\n        _this.resourceService.delete((resource === null || resource === void 0 ? void 0 : resource.id) || 0).subscribe(() => _this.resources = _this.resources.filter(element => {\n          _this.subscribeGeneral.add(_this.resourceService.getAllPage(_this.pageNumber, _this.size, _this.wordSearch).subscribe(response => {\n            _this.page = response;\n            _this.resources = _this.page.content;\n            _this.totalElementos = _this.page.totalElements;\n          }));\n        }), () => swal.fire('Erro', 'Error the try delete!', 'error'));\n      }\n    })();\n  }\n\n}\n\nBaseResourceListComponent.ɵfac = function BaseResourceListComponent_Factory(t) {\n  return new (t || BaseResourceListComponent)(i0.ɵɵdirectiveInject(i1.BaseResourceService));\n};\n\nBaseResourceListComponent.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: BaseResourceListComponent\n});","map":{"version":3,"names":["swal","Subscriber","i0","i1","BaseResourceListComponent","constructor","resourceService","resources","size","wordSearch","page","pageNumber","totalElementos","subscribeGeneral","ngOnInit","add","getAllPage","subscribe","response","content","totalElements","error","alert","ngOnDestroy","unsubscribe","paginate","event","rows","search","deleteResource","resource","confirmacao","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","delete","id","filter","element","ɵfac","BaseResourceListComponent_Factory","t","ɵɵdirectiveInject","BaseResourceService","ɵdir","ɵɵdefineDirective","type"],"sources":["C:/joshua/projetos/microservices/baseprojectpackage/baseprojectweb/src/app/shared/components/base-resource-list/base-resource-list.component.ts"],"sourcesContent":["import swal from 'sweetalert2';\r\nimport { Subscriber } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../services/base-resource.service\";\r\nexport class BaseResourceListComponent {\r\n    constructor(resourceService) {\r\n        this.resourceService = resourceService;\r\n        this.resources = [];\r\n        this.size = 2;\r\n        this.wordSearch = '';\r\n        this.page = {};\r\n        this.pageNumber = 0;\r\n        this.totalElementos = 0;\r\n        this.subscribeGeneral = new Subscriber();\r\n    }\r\n    ngOnInit() {\r\n        this.subscribeGeneral.add(this.resourceService\r\n            .getAllPage(this.pageNumber, this.size, this.wordSearch)\r\n            .subscribe((response) => {\r\n            this.page = response;\r\n            this.resources = this.page.content;\r\n            this.totalElementos = this.page.totalElements;\r\n        }, (error) => alert('Erro ao carregar a lista')));\r\n    }\r\n    ngOnDestroy() {\r\n        this.subscribeGeneral.unsubscribe();\r\n    }\r\n    paginate(event) {\r\n        //console.log(event);\r\n        this.subscribeGeneral.add(this.resourceService\r\n            .getAllPage(event.page, event.rows, this.wordSearch)\r\n            .subscribe((response) => {\r\n            this.page = response;\r\n            this.resources = this.page.content;\r\n            this.totalElementos = this.page.totalElements;\r\n        }));\r\n    }\r\n    search() {\r\n        this.subscribeGeneral.add(this.resourceService\r\n            .getAllPage(this.pageNumber, this.size, this.wordSearch)\r\n            .subscribe((response) => {\r\n            this.page = response;\r\n            this.resources = this.page.content;\r\n            this.totalElementos = this.page.totalElements;\r\n        }));\r\n    }\r\n    async deleteResource(resource) {\r\n        const confirmacao = await swal.fire({\r\n            title: 'Delete',\r\n            text: 'Do you want really delete the item?',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes',\r\n            cancelButtonText: 'Cancel',\r\n        });\r\n        if (confirmacao === null || confirmacao === void 0 ? void 0 : confirmacao.isConfirmed) {\r\n            this.resourceService.delete((resource === null || resource === void 0 ? void 0 : resource.id) || 0).subscribe(() => (this.resources = this.resources.filter((element) => {\r\n                this.subscribeGeneral.add(this.resourceService\r\n                    .getAllPage(this.pageNumber, this.size, this.wordSearch)\r\n                    .subscribe((response) => {\r\n                    this.page = response;\r\n                    this.resources = this.page.content;\r\n                    this.totalElementos = this.page.totalElements;\r\n                }));\r\n            })), () => swal.fire('Erro', 'Error the try delete!', 'error'));\r\n        }\r\n    }\r\n}\r\nBaseResourceListComponent.ɵfac = function BaseResourceListComponent_Factory(t) { return new (t || BaseResourceListComponent)(i0.ɵɵdirectiveInject(i1.BaseResourceService)); };\r\nBaseResourceListComponent.ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: BaseResourceListComponent });\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}